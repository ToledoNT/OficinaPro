generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Cliente {
  id           String    @id @default(auto()) @map("_id") @db.ObjectId
  nome         String
  telefone     String
  isWhatsapp   Boolean
  cpf          String
  email        String?
  endereco     Endereco
  observacoes  String
  dataCadastro DateTime  @default(now())
  veiculos     Veiculo[]
  services     Service[] @relation("ClienteToService")
}

type Endereco {
  rua     String
  numero  String
  bairro  String
  cidade  String
  estado  String
  cep     String
}

type Veiculo {
  placa  String?
  modelo String
  ano    String?
  cor    String?
  chassi String?
}

model Service {
  id           String    @id @default(auto()) @map("_id") @db.ObjectId
  clienteId    String    @db.ObjectId
  cliente      Cliente   @relation(fields: [clienteId], references: [id], name: "ClienteToService")
  veiculo      String?
  dataCadastro DateTime  @default(now())
  descricao    String
  finalizado   Boolean
  status       String
  observacoes  String
  prioridade   String?
  valor        String?
  pago         Boolean?
}

model Log {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  value     String
  createdAt DateTime @default(now())
}